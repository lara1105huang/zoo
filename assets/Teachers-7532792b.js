import{bH as I,C as g,r as i,I as m,J as L,d as S,bJ as T,o as y,a as C,c as k,e,E as t,F as E,G as B,t as h}from"./index-17d6875a.js";import"./firebaseConfig-c0796f04.js";const D=I("teacher",()=>{const v=g.database().ref("teachers/"),n=i({}),b=()=>{v.once("value",o=>{n.value=o.val(),console.log(n.value)})},u=m(),c=i(!1),l=()=>{u.push({name:"addTeacher"})},_=o=>{u.push(`/admin/teacher/${o}`)},f=o=>{v.child(o.id).remove(),L({message:"刪除"+o.name+"成功！",type:"success"}),parent.location.reload(),u.push({name:"Home"})},d=i(localStorage.getItem("token")),p=i(localStorage.getItem("userId"));return{see:c,token:d,userId:p,teacherLists:n,goAdd:l,goEdit:_,toDelete:f,addLoveCount:o=>{if(p.value==null){console.log("addLoveCountId",o);const a=o.loveCount++;console.log(a),g.database().ref("teachers/"+o.id+"/loveCount").set(a)}if(d.value){console.log("addLoveCountId",o);const a=o.loveCount;g.database().ref("teachers/"+o.id+"/loveCount").set(a)}},tokenSee:()=>{d.value!=null?c.value=!0:c.value=!1},getTeachers:b}}),$={class:"teachers_info"},x={class:"addIcon"},A=e("td",null,"pic",-1),F=e("td",null,"姓名",-1),H=e("td",null,"出生日期",-1),J=e("td",null,"電子郵件",-1),M=e("td",null,"行動電話",-1),R=["src"],q=["onClick"],G=["onClick"],j=S({__name:"Teachers",setup(v){const n=D(),{token:b,userId:u,teacherLists:c}=T(n),{goAdd:l,goEdit:_,toDelete:f,getTeachers:d}=n;return y(()=>{d()}),(p,r)=>(C(),k("div",$,[e("div",x,[e("i",{onClick:r[0]||(r[0]=(...s)=>t(l)&&t(l)(...s)),class:"fa-solid fa-circle-plus"})]),e("table",null,[e("thead",null,[e("tr",null,[A,F,H,J,M,e("td",null,[e("i",{onClick:r[1]||(r[1]=(...s)=>t(l)&&t(l)(...s)),class:"fa-solid fa-circle-plus"})])])]),e("tbody",null,[(C(!0),k(E,null,B(t(c),(s,o)=>(C(),k("tr",{key:o},[e("td",null,[e("div",null,[e("img",{src:s.picture},null,8,R)])]),e("td",null,h(s.name),1),e("td",null,h(s.birthday),1),e("td",null,h(s.email),1),e("td",null,h(s.phone),1),e("td",null,[e("i",{onClick:a=>t(_)(s.id),class:"fa-solid fa-pen-to-square"},null,8,q),e("i",{onClick:a=>t(f)(s),class:"icon-bin"},null,8,G)])]))),128))])])]))}});export{j as default};
